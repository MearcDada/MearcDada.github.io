{"title":"Qt Pro文件简单说明","slug":"Qt-pro","date":"2022-12-10T16:00:00.000Z","updated":"2024-12-03T07:22:26.000Z","comments":true,"path":"api/articles/Qt-pro.json","excerpt":null,"covers":null,"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h3 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h3><p>QMake 工具有助于简化跨不同平台的开发项目的构建过程。它自动生成文件，因此创建每个生成文件只需要几行信息。您可以将 QMake 用于任何软件项目，无论它是否使用 Qt 编写。</p>\n<p>一般情况下， Qt 项目都包含一个后缀名为.pro、名称和项目名相同的文件，我们通常称它为项目管理文件或者工程管理文件（简称 pro 文件），除 pro文件外，还有pri文件进行辅助管理。</p>\n<p>Qt官方文档：<a href=\"https://doc.qt.io/archives/qt-5.9/qmake-manual.html\">https://doc.qt.io/archives/qt-5.9/qmake-manual.html</a></p>\n<p>模板示例：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 构建应用，除此外还能生成静态库或动态库</span><br><span class=\"line\">TEMPLATE = app</span><br><span class=\"line\"></span><br><span class=\"line\">#TEMPLATE = lib</span><br><span class=\"line\">#CONFIG += staticlib# 开启则生成静态库</span><br><span class=\"line\"></span><br><span class=\"line\"># 目标名称，一般和项目名称相同</span><br><span class=\"line\">TARGET = helloworld</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加Qt模块</span><br><span class=\"line\">QT += core gui widget webview</span><br><span class=\"line\"></span><br><span class=\"line\"># 使用预编译头</span><br><span class=\"line\">CONFIG   += console precompile_header</span><br><span class=\"line\">PRECOMPILED_HEADER = stable.h</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加头文件</span><br><span class=\"line\">HEADERS += hello.h</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加源文件</span><br><span class=\"line\">SOURCES += hello.cpp</span><br><span class=\"line\"></span><br><span class=\"line\"># 文件判断是否存在</span><br><span class=\"line\">!exists( main.cpp ) &#123;</span><br><span class=\"line\">    error( &quot;No main.cpp file found&quot; )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># 平台区分</span><br><span class=\"line\">win32 &#123;</span><br><span class=\"line\">    SOURCES += hellowin.cpp</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">unix &#123;</span><br><span class=\"line\">    SOURCES += hellounix.cpp</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"># 嵌套作用域和冒号连接符连用</span><br><span class=\"line\">win32:debug &#123;</span><br><span class=\"line\">    CONFIG += console</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"># 根据目标平台自定义构建目标的名称</span><br><span class=\"line\">CONFIG(debug, debug|release) &#123;</span><br><span class=\"line\">    mac: TARGET = $$join(TARGET,,,_debug)</span><br><span class=\"line\">    win32: TARGET = $$join(TARGET,,d)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加资源文件</span><br><span class=\"line\">RESOURCES += qml.qrc</span><br><span class=\"line\"></span><br><span class=\"line\"># 使用第三方库</span><br><span class=\"line\"># 添加库目录路径</span><br><span class=\"line\">INCLUDEPATH += 3rdparty/CatWhisperer/include</span><br><span class=\"line\"># 添加库文件 注意：仅当路径包含空格时才需要双引号 -L和 -l省略文件扩展名，方便在不同平台添加第三方库</span><br><span class=\"line\">LIBS += -L&quot;3rdparty/CatWhisperer/lib&quot; -lCatWhisperer</span><br><span class=\"line\"></span><br><span class=\"line\"># 目标目录</span><br><span class=\"line\">DESTDIR = bin</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加子目录</span><br><span class=\"line\">SUBDIRS = tool.pri\\</span><br><span class=\"line\">          mystatic.pro</span><br><span class=\"line\"></span><br><span class=\"line\"># 设置应用图标</span><br><span class=\"line\">RC_ICONS = appicon.ico </span><br></pre></td></tr></table></figure>\n\n","more":"<h3 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h3><p>QMake 工具有助于简化跨不同平台的开发项目的构建过程。它自动生成文件，因此创建每个生成文件只需要几行信息。您可以将 QMake 用于任何软件项目，无论它是否使用 Qt 编写。</p>\n<p>一般情况下， Qt 项目都包含一个后缀名为.pro、名称和项目名相同的文件，我们通常称它为项目管理文件或者工程管理文件（简称 pro 文件），除 pro文件外，还有pri文件进行辅助管理。</p>\n<p>Qt官方文档：<a href=\"https://doc.qt.io/archives/qt-5.9/qmake-manual.html\">https://doc.qt.io/archives/qt-5.9/qmake-manual.html</a></p>\n<p>模板示例：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 构建应用，除此外还能生成静态库或动态库</span><br><span class=\"line\">TEMPLATE = app</span><br><span class=\"line\"></span><br><span class=\"line\">#TEMPLATE = lib</span><br><span class=\"line\">#CONFIG += staticlib# 开启则生成静态库</span><br><span class=\"line\"></span><br><span class=\"line\"># 目标名称，一般和项目名称相同</span><br><span class=\"line\">TARGET = helloworld</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加Qt模块</span><br><span class=\"line\">QT += core gui widget webview</span><br><span class=\"line\"></span><br><span class=\"line\"># 使用预编译头</span><br><span class=\"line\">CONFIG   += console precompile_header</span><br><span class=\"line\">PRECOMPILED_HEADER = stable.h</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加头文件</span><br><span class=\"line\">HEADERS += hello.h</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加源文件</span><br><span class=\"line\">SOURCES += hello.cpp</span><br><span class=\"line\"></span><br><span class=\"line\"># 文件判断是否存在</span><br><span class=\"line\">!exists( main.cpp ) &#123;</span><br><span class=\"line\">    error( &quot;No main.cpp file found&quot; )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># 平台区分</span><br><span class=\"line\">win32 &#123;</span><br><span class=\"line\">    SOURCES += hellowin.cpp</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">unix &#123;</span><br><span class=\"line\">    SOURCES += hellounix.cpp</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"># 嵌套作用域和冒号连接符连用</span><br><span class=\"line\">win32:debug &#123;</span><br><span class=\"line\">    CONFIG += console</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"># 根据目标平台自定义构建目标的名称</span><br><span class=\"line\">CONFIG(debug, debug|release) &#123;</span><br><span class=\"line\">    mac: TARGET = $$join(TARGET,,,_debug)</span><br><span class=\"line\">    win32: TARGET = $$join(TARGET,,d)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加资源文件</span><br><span class=\"line\">RESOURCES += qml.qrc</span><br><span class=\"line\"></span><br><span class=\"line\"># 使用第三方库</span><br><span class=\"line\"># 添加库目录路径</span><br><span class=\"line\">INCLUDEPATH += 3rdparty/CatWhisperer/include</span><br><span class=\"line\"># 添加库文件 注意：仅当路径包含空格时才需要双引号 -L和 -l省略文件扩展名，方便在不同平台添加第三方库</span><br><span class=\"line\">LIBS += -L&quot;3rdparty/CatWhisperer/lib&quot; -lCatWhisperer</span><br><span class=\"line\"></span><br><span class=\"line\"># 目标目录</span><br><span class=\"line\">DESTDIR = bin</span><br><span class=\"line\"></span><br><span class=\"line\"># 添加子目录</span><br><span class=\"line\">SUBDIRS = tool.pri\\</span><br><span class=\"line\">          mystatic.pro</span><br><span class=\"line\"></span><br><span class=\"line\"># 设置应用图标</span><br><span class=\"line\">RC_ICONS = appicon.ico </span><br></pre></td></tr></table></figure>\n\n","categories":[{"name":"编程语言","path":"api/categories/编程语言.json"}],"tags":[{"name":"C++","path":"api/tags/C++.json"},{"name":"Qt","path":"api/tags/Qt.json"}]}